{# templates/cart/_partials/_cart/_cart-item.html.twig #}
<article class="cart__item" 
         data-product-id="{{ item.product.id }}"
         {{ stimulus_controller('cart', {
             url: path('api_cart_update', {productId: item.product.id}),
             removeUrl: path('api_cart_remove', {productId: item.product.id}),
             productId: item.product.id
         }) }}>
    <div class="cart__item-image">
        <img src="{{ asset('img/products/' ~ item.product.imageFilename) }}" alt="{{ item.product.name }}" class="cart__item">
    </div>
    <div class="cart__item-details">
        <p class="cart__item-name f-title-item ">{{ item.product.name }}</p>
        <p class="cart__item-quantity f-text">
            Quantité:
            <input type="number"
                   class="cart__item-qty"
                   {{ stimulus_target('cart', 'quantity') }}
                   value="{{ item.quantity }}"
                   min="1"
                   {{ stimulus_action('cart', 'updateQuantity', 'change') }}>
        </p>
        <p class="cart__item-price f-title-page-section">
            Prix unitaire : {{ item.unit_price|number_format(2, ',', ' ') }}€
        </p>
    </div>
    <div class="cart__item-total"
         {{ stimulus_target('cart', 'total') }}>
        Total : {{ item.total_price|number_format(2, ',', ' ') }}€
    </div>
    <button type="button"
            class="remove-item"
            title="Supprimer"
            {{ stimulus_action('cart', 'removeItem', 'click') }}>
        <span aria-label="Supprimer" role="img">🗑️</span>
    </button>
</article>